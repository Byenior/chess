<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    
<div id="field">

    <table border="1">
        <tbody>
            <tr>
                <td id="1" ></td>
                <td id="2"></td>
                <td id="3" >
                <td id="4" ></td>
                <td id="5" >
                <td id="6" ></td>
                <td id="7" >
                <td id="8" ></td>
            </tr>
            <tr>
                <td id="9" ></td>
                <td id="10" >
                <td id="11" ></td>
                <td id="12" >
                <td id="13" ></td>
                <td id="14" >
                <td id="15" ></td>
                <td id="16" >
            </tr>
            <tr>
                <td id="17" ></td>
                <td id="18" ></td>
                <td id="19" ></td>
                <td id="20" ></td>
                <td id="21" ></td>
                <td id="22" ></td>
                <td id="23" ></td>
                <td id="24" ></td>
            </tr>
            <tr>
                <td id="25" ></td>
                <td id="26" ></td>
                <td id="27" ></td>
                <td id="28" ></td>
                <td id="29" ></td>
                <td id="30" ></td>
                <td id="31" ></td>
                <td id="32" ></td>
            </tr>
            <tr>
                <td id="33" ></td>
                <td id="34" ></td>
                <td id="35" ></td>
                <td id="36" ></td>
                <td id="37" ></td>
                <td id="38" ></td>
                <td id="39" ></td>
                <td id="40" ></td>
            </tr>
            <tr>
                <td id="41" ></td>
                <td id="42" ></td>
                <td id="43" ></td>
                <td id="44" ></td>
                <td id="45" ></td>
                <td id="46" ></td>
                <td id="47" ></td>
                <td id="48" ></td>
            </tr>
            <tr>
                <td id="49" >
                <td id="50" ></td>
                <td id="51" >
                <td id="52" ></td>
                <td id="53" >
                <td id="54" ></td>
                <td id="55" >
                <td id="56" ></td>
            </tr>
            <tr>
                <td id="57" ></td>
                <td id="58" >
                <td id="59" ></td>
                <td id="60" >
                <td id="61" ></td>
                <td id="62" >
                <td id="63" ></td>
                <td id="64" >
            </tr>
        </tbody>
    </table>
</div>


    <div id="chat">

        <h1>Chat</h1>
        <ul id="messages">
        </ul>
        <form id="form" action="">
            <input id="input" autocomplete="off" /><button>Send</button>
        </form>
    </div>

</body>
</html>

<script src="myMine.js"></script>
<script src="https://cdn.socket.io/4.7.4/socket.io.min.js" integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4" crossorigin="anonymous"></script>
<script>
    // Connect to Socket.IO server
    const link = 'http://localhost:7777/';

    const socket = io(link);
//     const io = new Server(server,{
//     cors: {
//       origin: "https://fcae-49-0-87-150.ngrok-free.app",
//       methods: ["GET", "POST"]
//     }
//   });
if (socket) {
    console.log('socket : ',socket)
}

const form = document.getElementById('form');
const input = document.getElementById('input');






  form.addEventListener('submit', (e) => {
    e.preventDefault();
    if (input.value) {
    console.log('from input : ',input.value)
    //   socket.on('message', input.value);
    socket.emit("message", input.value);
    // socket.emit("message", "Hello from server!");


      input.value = '';
    }
  });

  socket.on("message", (data) => {
    console.log('data : ',data)
    const messages = document.getElementById('messages');
    const item = document.createElement('li');
    item.textContent = data;
    messages.appendChild(item);
    // window.scrollTo(0, document.body.scrollHeight);
    });


  socket.on("connection", (socket) => {
    console.log("A user connected");
    socket.emit("message", "Hello from server!");

//     socket.emit("message", (msg) => {
// console.log('msg',msg)
//     });


    // socket.on("message", (msg) => {
    //     // socket.emit("message", msg);
    // });



    socket.on("disconnect", () => {
        console.log("A user disconnected");
    });
});
  
</script>
